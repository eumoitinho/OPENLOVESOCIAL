# OpenLove - Plataforma de Conex√£o e Relacionamentos

Uma plataforma moderna e inclusiva para pessoas que buscam conex√µes aut√™nticas, inspirada no design do Twitter/X, com foco em casais livres, poliamor e relacionamentos n√£o-tradicionais.

## üöÄ Funcionalidades Principais

### üì± Interface Responsiva
- **Layout Mobile-First**: Otimizado para dispositivos m√≥veis
- **Navega√ß√£o Intuitiva**: Sidebar lateral com navega√ß√£o r√°pida
- **Design Moderno**: Interface inspirada no Twitter/X com cores personalizadas

### üîê Sistema de Autentica√ß√£o
- **Login/Registro**: Sistema completo de autentica√ß√£o
- **Perfis de Usu√°rio**: Perfis personaliz√°veis com fotos e informa√ß√µes
- **Verifica√ß√£o de Email**: Sistema de confirma√ß√£o por email

### üìù Sistema de Posts
- **Timeline Din√¢mica**: Feed de posts em tempo real
- **Cria√ß√£o de Posts**: Interface para criar posts com texto e m√≠dia
- **Intera√ß√µes**: Sistema de likes, coment√°rios e compartilhamentos
- **Visibilidade**: Posts p√∫blicos ou apenas para amigos

### üí¨ Sistema de Mensagens
- **Chat em Tempo Real**: Sistema de mensagens integrado
- **WebRTC**: Suporte para chamadas de voz e v√≠deo
- **Conversas**: Interface de conversas com hist√≥rico
- **Notifica√ß√µes**: Sistema de notifica√ß√µes em tempo real

### üéØ Sistema Open Dates (Tinder-like)
- **Cards Interativos**: Interface de cards com drag & drop
- **Sistema de Likes**: Like, pass e super like
- **Algoritmo de Recomenda√ß√£o**: Baseado em interesses, localiza√ß√£o e prefer√™ncias
- **Matches**: Sistema de matches autom√°tico
- **Chat de Matches**: Chat exclusivo para matches
- **Prefer√™ncias**: Configura√ß√£o de idade, dist√¢ncia e interesses

### üë• Sistema de Amizades
- **Seguir Usu√°rios**: Sistema de follow/unfollow
- **Sugest√µes**: Recomenda√ß√µes de pessoas para seguir
- **Perfis P√∫blicos**: Visualiza√ß√£o de perfis de outros usu√°rios

### üé™ Sistema de Eventos
- **Cria√ß√£o de Eventos**: Interface para criar eventos
- **Participa√ß√£o**: Sistema de inscri√ß√£o em eventos
- **Compartilhamento**: Compartilhar eventos na timeline

### üèòÔ∏è Sistema de Comunidades
- **Cria√ß√£o de Comunidades**: Criar e gerenciar comunidades
- **Participa√ß√£o**: Sistema de membros e moderadores
- **Posts em Comunidades**: Posts espec√≠ficos para comunidades

### üîç Sistema de Busca
- **Busca de Usu√°rios**: Buscar por nome, localiza√ß√£o, interesses
- **Filtros Avan√ßados**: Filtros por idade, localiza√ß√£o, tipo de perfil
- **Resultados em Tempo Real**: Busca instant√¢nea

### üí∞ Sistema de Pagamentos
- **Integra√ß√£o MercadoPago**: Sistema de pagamentos brasileiro
- **Planos Premium**: Diferentes n√≠veis de assinatura
- **Webhooks**: Processamento autom√°tico de pagamentos

### üìä Sistema de An√∫ncios
- **An√∫ncios Contextuais**: An√∫ncios baseados no conte√∫do
- **M√©tricas**: Sistema de tracking de cliques e impress√µes
- **Diferentes Formatos**: Banners, cards e an√∫ncios nativos

### üé® Personaliza√ß√£o
- **Tema Escuro/Claro**: Altern√¢ncia entre temas
- **Cores Personalizadas**: Paleta de cores OpenLove
- **Layout Responsivo**: Adapta√ß√£o para diferentes tamanhos de tela

## üöÄ Caracter√≠sticas Principais

### Layout Responsivo e Moderno
- **Layout em Grid**: Sistema de 3 colunas similar ao Twitter/X
  - Sidebar esquerda (1fr): Navega√ß√£o principal
  - Timeline central (2-3fr): Conte√∫do principal
  - Sidebar direita (1fr): Informa√ß√µes complementares
- **Responsividade Mobile-First**: Otimizado para dispositivos m√≥veis
- **Sidebars Otimizadas**: Sem overflow horizontal, scroll vertical oculto
- **Navega√ß√£o Unificada**: Componentes integrados na p√°gina principal

### Interface de Usu√°rio
- **Design System Consistente**: Cores, tipografia e componentes padronizados
- **Tema Escuro/Claro**: Altern√¢ncia autom√°tica baseada na prefer√™ncia do sistema
- **Anima√ß√µes Suaves**: Transi√ß√µes e efeitos visuais elegantes
- **Componentes Reutiliz√°veis**: UI modular e escal√°vel

### Funcionalidades de Navega√ß√£o
- **Timeline Principal**: Posts, perfis e conte√∫do em tempo real
- **Explora√ß√£o de Perfis**: Sistema de busca e descoberta de usu√°rios
- **Notifica√ß√µes**: Sistema completo de notifica√ß√µes em tempo real
- **Mensagens**: Chat integrado com WebRTC
- **Eventos**: Cria√ß√£o e participa√ß√£o em eventos
- **Comunidades**: Grupos e f√≥runs tem√°ticos
- **Conte√∫do Salvo**: Sistema de favoritos e salvamento

### Sistema de Autentica√ß√£o
- **Supabase Auth**: Autentica√ß√£o segura e confi√°vel
- **M√∫ltiplos Provedores**: Login com Google, GitHub, etc.
- **Prote√ß√£o de Rotas**: Middleware de autentica√ß√£o
- **Sess√µes Persistentes**: Manuten√ß√£o do estado de login

### Recursos Avan√ßados
- **Upload de M√≠dia**: Imagens e v√≠deos com otimiza√ß√£o autom√°tica
- **Sistema de An√∫ncios**: Plataforma de publicidade integrada
- **Pagamentos**: Integra√ß√£o com MercadoPago e Stripe
- **WebRTC**: Chamadas de v√≠deo e √°udio em tempo real
- **Notifica√ß√µes Push**: Alertas em tempo real

## üõ†Ô∏è Tecnologias Utilizadas

### Frontend
- **Next.js 15**: Framework React com App Router
- **TypeScript**: Tipagem est√°tica para maior confiabilidade
- **Tailwind CSS**: Framework CSS utilit√°rio
- **Shadcn/ui**: Componentes de UI modernos
- **Lucide React**: √çcones consistentes

### Backend & Banco de Dados
- **Supabase**: Backend-as-a-Service com PostgreSQL
- **PostgreSQL**: Banco de dados relacional robusto
- **Redis**: Cache e sess√µes em tempo real

### Integra√ß√µes
- **MercadoPago**: Processamento de pagamentos
- **Stripe**: Pagamentos internacionais
- **WebRTC**: Comunica√ß√£o peer-to-peer
- **Cloudinary**: Otimiza√ß√£o de m√≠dia

## üì± Layout e Responsividade

### Estrutura de Grid
```css
/* Layout principal */
.grid-cols-1 lg:grid-cols-4 xl:grid-cols-5

/* Sidebar esquerda */
lg:col-span-1

/* Timeline central */
lg:col-span-2 xl:col-span-3

/* Sidebar direita */
lg:col-span-1
```

### Sidebars Otimizadas
- **Larguras Fixas**: 72px (mobile) / 275px (desktop) para esquerda, 350px para direita
- **Overflow Control**: `overflow-x-hidden` para evitar scroll horizontal
- **Scroll Oculto**: Classe `scrollbar-hide` para esconder barra de rolagem
- **Sticky Positioning**: Sidebars fixas durante scroll

### Navega√ß√£o Mobile
- **MobileNav**: Barra de navega√ß√£o lateral em dispositivos m√≥veis
- **Touch-Friendly**: Bot√µes otimizados para toque
- **Responsive Breakpoints**: Adapta√ß√£o autom√°tica por tamanho de tela

## üé® Sistema de Design

### Cores Principais
- **Prim√°ria**: Gradiente rosa-roxo (#ec4899 ‚Üí #8b5cf6)
- **Secund√°ria**: Tons de cinza neutros
- **Acentos**: Verde para sucesso, vermelho para erro, azul para info

### Tipografia
- **Hierarquia Clara**: T√≠tulos, subt√≠tulos e corpo de texto bem definidos
- **Responsiva**: Tamanhos adapt√°veis por breakpoint
- **Legibilidade**: Contraste e espa√ßamento otimizados

### Componentes
- **Cards**: Eleva√ß√£o e sombras sutis
- **Bot√µes**: Estados hover e focus bem definidos
- **Formul√°rios**: Valida√ß√£o visual e feedback imediato
- **Modais**: Overlays com backdrop blur

## üìã Versionamento

Este projeto segue o **Versionamento Sem√¢ntico** (SemVer). Atualmente estamos na vers√£o **0.2.0-alpha.1**.

### Vers√£o Atual
- **0.2.0-alpha.1**: Sistema Open Dates implementado, corre√ß√µes cr√≠ticas de bugs
- Veja o [CHANGELOG.md](CHANGELOG.md) para detalhes completos das mudan√ßas

### Pr√≥ximas Vers√µes
- `0.2.0-alpha.2`: Melhorias no sistema Open Dates
- `0.2.0-beta.1`: Sistema Open Dates est√°vel
- `0.2.0`: Vers√£o est√°vel com Open Dates
- `1.0.0`: Primeira vers√£o major para produ√ß√£o

## üõ†Ô∏è Configura√ß√£o e Instala√ß√£o

### Pr√©-requisitos
- Node.js 18+ 
- pnpm
- Supabase (banco de dados)
- Conta MercadoPago (para pagamentos)

### Instala√ß√£o

1. **Clone o reposit√≥rio**
```bash
git clone https://github.com/seu-usuario/openlove.git
cd openlove
```

2. **Instale as depend√™ncias**
```bash
pnpm install
```

3. **Configure as vari√°veis de ambiente**

Crie um arquivo `.env.local` na raiz do projeto:

```bash
# Na raiz do projeto
touch .env.local
```

Adicione as seguintes vari√°veis obrigat√≥rias:

```env
# Supabase Configuration (OBRIGAT√ìRIO)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# NextAuth Configuration (RECOMENDADO)
NEXTAUTH_SECRET=your-32-character-secret-key
NEXTAUTH_URL=http://localhost:3000
```

**Como obter as chaves do Supabase:**
1. Acesse o [dashboard do Supabase](https://supabase.com/dashboard)
2. Selecione seu projeto
3. V√° para **Settings > API**
4. Copie as informa√ß√µes necess√°rias

Para mais detalhes, consulte [docs/SETUP_ENVIRONMENT.md](docs/SETUP_ENVIRONMENT.md)

4. **Configure o banco de dados**

Execute os scripts SQL no Supabase SQL Editor na seguinte ordem:

```sql
-- 1. Schema inicial completo
\i scripts/016_complete_openlove_schema.sql

-- 2. Dados de exemplo
\i scripts/017_seed_sample_data.sql

-- 3. Corre√ß√£o da estrutura da tabela users (IMPORTANTE)
\i scripts/026_fix_users_table.sql

-- 4. Sistema Open Dates
\i scripts/025_open_dates_system.sql
```

**Importante:** O script `026_fix_users_table.sql` corrige a estrutura da tabela `users` e √© essencial para o funcionamento do sistema de registro.

### üîç Diagn√≥stico de Problemas

Se voc√™ encontrar erros de registro, siga estes passos:

#### 1. Corre√ß√£o Completa (Recomendado)
Cole este script completo no SQL Editor do Supabase:

```sql
-- Cole o conte√∫do do arquivo scripts/comprehensive_fix.sql
-- Execute tudo de uma vez
```

**Este script inclui TODAS as corre√ß√µes necess√°rias baseadas na an√°lise completa do c√≥digo.**

#### 2. Teste R√°pido (Opcional)
Ap√≥s a corre√ß√£o, execute este teste para verificar:

```sql
-- Cole o conte√∫do do arquivo scripts/quick_test.sql
-- Execute tudo de uma vez
```

#### 3. Scripts Alternativos
Se preferir scripts separados:
- `scripts/fix_all_at_once.sql` - Vers√£o anterior (menos completa)
- `scripts/diagnose_registration.sql` - Diagn√≥stico detalhado

**Nota:** No SQL Editor do Supabase, voc√™ pode colar todo o script e executar de uma vez, n√£o precisa selecionar query por query.

5. **Execute o projeto**
```bash
pnpm run dev
```

### Configura√ß√£o do Sistema Open Dates

O sistema Open Dates requer algumas configura√ß√µes espec√≠ficas:

1. **Tabelas do Banco**: Execute o script `025_open_dates_system.sql`
2. **Fun√ß√µes SQL**: O script cria fun√ß√µes para recomenda√ß√£o e matching
3. **Pol√≠ticas RLS**: Seguran√ßa configurada automaticamente
4. **Dados de Exemplo**: Cards de exemplo inclu√≠dos no script

### Estrutura do Sistema Open Dates

```
app/
‚îú‚îÄ‚îÄ components/timeline/
‚îÇ   ‚îú‚îÄ‚îÄ OpenDatesCard.tsx      # Card individual com drag & drop
‚îÇ   ‚îî‚îÄ‚îÄ OpenDatesStack.tsx     # Stack de cards principal
‚îú‚îÄ‚îÄ api/open-dates/
‚îÇ   ‚îú‚îÄ‚îÄ recommendations/       # API de recomenda√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ interactions/          # API de likes/pass/super_like
‚îÇ   ‚îî‚îÄ‚îÄ matches/              # API de matches
‚îî‚îÄ‚îÄ home/page.tsx             # Integra√ß√£o na sidebar
```

## üìä Estrutura do Projeto

```
app/
‚îú‚îÄ‚îÄ components/          # Componentes reutiliz√°veis
‚îÇ   ‚îú‚îÄ‚îÄ timeline/       # Componentes da timeline
‚îÇ   ‚îú‚îÄ‚îÄ auth/          # Autentica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ chat/          # Sistema de chat
‚îÇ   ‚îú‚îÄ‚îÄ media/         # Upload e otimiza√ß√£o de m√≠dia
‚îÇ   ‚îî‚îÄ‚îÄ ui/            # Componentes base de UI
‚îú‚îÄ‚îÄ home/              # P√°gina principal com layout em grid
‚îú‚îÄ‚îÄ api/               # Rotas da API
‚îú‚îÄ‚îÄ auth/              # P√°ginas de autentica√ß√£o
‚îú‚îÄ‚îÄ profile/           # Perfis de usu√°rio
‚îú‚îÄ‚îÄ events/            # Sistema de eventos
‚îú‚îÄ‚îÄ communities/       # Comunidades
‚îú‚îÄ‚îÄ messages/          # Sistema de mensagens
‚îî‚îÄ‚îÄ lib/               # Utilit√°rios e configura√ß√µes
```

## üöÄ Deploy

### Vercel (Recomendado)
```bash
# Conecte seu reposit√≥rio ao Vercel
# Configure as vari√°veis de ambiente
# Deploy autom√°tico a cada push
```

### Docker
```bash
# Build da imagem
docker build -t openlove .

# Execu√ß√£o
docker run -p 3000:3000 openlove
```

## ü§ù Contribui√ß√£o

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## üÜò Suporte

- **Documenta√ß√£o**: [docs/](docs/)
- **Issues**: [GitHub Issues](https://github.com/seu-usuario/openlove/issues)
- **Discord**: [Comunidade OpenLove](https://discord.gg/openlove)

## üîÆ Roadmap

- [ ] Sistema de matchmaking avan√ßado
- [ ] Integra√ß√£o com redes sociais
- [ ] Sistema de gamifica√ß√£o
- [ ] Analytics e m√©tricas avan√ßadas
- [ ] App mobile nativo
- [ ] Intelig√™ncia artificial para recomenda√ß√µes
- [ ] Sistema de verifica√ß√£o de perfis
- [ ] Marketplace de produtos e servi√ßos

---

**OpenLove** - Conectando pessoas, respeitando diversidade. ‚ù§Ô∏è